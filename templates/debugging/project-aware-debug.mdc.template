---
description: {{DESCRIPTION}}
globs: {{GLOBS}}
alwaysApply: {{ALWAYS_APPLY}}
---

rule "Detect Project Structure Before Debugging" {
  type: "{{RULE_TYPE}}"
  when: {{WHEN_CONDITION}}
  condition: {{CONDITION}}
  message: |
    üîç **Project-Aware Debugging:**
    
    Detected project structure:
    - Type: Check `package.json` for framework detection
    - Config files: Validate `tsconfig.json`, `next.config.js`, etc.
    - Dependencies: Review `node_modules` or lock files if needed
    
    **Safe Debugging Steps:**
    1. Identify project type (Next.js, React, Express, etc.)
    2. Locate relevant configuration files
    3. Check for environment-specific settings
    4. Review error logs in project-specific locations
    5. Use project-aware MCP tools for file inspection
    
    **Avoid:**
    - Modifying core configuration without understanding impact
    - Deleting files without checking dependencies
    - Making assumptions about project structure
}

rule "Context-Aware Error Analysis" {
  type: "guideline"
  when: block.text contains "error" or block.text contains "exception" or block.text contains "failed"
  message: |
    üß© **Context-Aware Error Analysis:**
    
    When encountering errors:
    1. **Check project context:**
       - Framework version and compatibility
       - Dependency versions in package.json
       - Environment variables and configuration
       
    2. **Use MCP tools for safe inspection:**
       - Read error logs without modifying
       - Check file permissions and paths
       - Validate configuration files
       
    3. **Project-specific debugging:**
       {{#if PROJECT_SPECIFIC_TIPS}}
       {{PROJECT_SPECIFIC_TIPS}}
       {{else}}
       - Review framework-specific error patterns
       - Check for common configuration issues
       - Validate build and runtime environments
       {{/if}}
}

